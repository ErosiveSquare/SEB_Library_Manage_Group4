# 图书馆管理系统数据词典 (DD)

## 1. 基础字典数据结构

### DS_1.1 书商信息 (Supplier)

- **定义**：描述图书供应商的基础资质与联系信息。

- 结构：

  书商信息 = 书商编号 + 书商名称 + 地址 + 联系人 + 电话 + (开户行) + (账号) + 信誉度 + (邮箱)

- **数据元素说明**：

  - `书商编号` (SUPPLIER_ID)：主键，BIGINT。
  - `信誉度` (CREDIT_LEVEL) = `["A" | "B" | "C" | "D"]`
  - `电话`：兼容带区号的格式。

### DS_1.2 出版社信息 (Publisher)

- **定义**：描述图书出版单位的信息。

- 结构：

  出版社信息 = 出版社编号 + 出版社名称 + 地址 + 出版地 + (ISBN前缀)

- **数据元素说明**：

  - `出版社编号` (PUBLISHER_ID)：主键，BIGINT。
  - `ISBN前缀`：用于辅助编目。

### DS_1.3 中图法分类 (CLC Type)

- **定义**：依据中国图书馆分类法制定的图书分类标准。

- 结构：

  中图法分类 = 中图分类号 + 类别名称

- **数据元素说明**：

  - `中图分类号` (CLC_CODE)：主键，如 TP311。

------

## 2. 采访与订单数据结构

### DS_2.1 采访清单_荐购 (Acq Suggestion)

- **定义**：记录读者发起的图书购买建议及采编的处理状态。

- 结构：

  采访清单 = 记录序号 + 读者/学号 + 书名 + (作者) + (ISBN) + (出版社) + 处理状态

- **数据元素说明**：

  - `处理状态` (STATUS) = `["0" | "1" | "2"]`
    - 0 = 未处理
    - 1 = 已加入订单
    - 2 = 驳回

### DS_2.2 订单头 (Order Head)

- **定义**：采购订单的总体信息。

- 结构：

  订单头 = 订单号 + 采购人 + 采购日期 + 书商ID + 总金额

- **数据元素说明**：

  - `采购人`：经办的馆员姓名或ID。

### DS_2.3 订单明细行 (Order Line)

- **定义**：订单中具体的书籍条目。

- 结构：

  订单明细 = 行号 + 订单号 + (荐购ID) + 书名 + ISBN + 作者 + 出版社 + 单价 + 订购数量 + 订单状态

- **数据元素说明**：

  - `荐购ID`：外键，关联 ACQ_SUGGESTION 表。
  - `订单状态` (STATUS) = `["0" | "1" | "2"]`
    - 0 = 未到
    - 1 = 已验收
    - 2 = 已退货

### DS_2.4 验收清单 (Accept List)

- **定义**：记录订单书籍到货后的验收合格信息。

- 结构：

  验收清单 = 验收记录号 + 订单行号 + 实收数量 + 验收人 + 验收日期

### DS_2.5 退货清单 (Return List)

- **定义**：记录验收不合格或错误的退货信息。

- 结构：

  退货清单 = 退货单号 + 订单行号 + 退货数量 + 退货原因 + 经手人 + 退货日期

------

## 3. 编目与馆藏数据结构

### DS_3.1 编目缓冲 (Catalog Buffer)

- **定义**：新书入库前的临时数据存储。

- 结构：

  编目缓冲 = 编目流水号 + ISBN + 索书号 + 书名 + 作者 + 出版社 + (出版日期) + 价格

- **数据元素说明**：

  - `索书号`：核心字段，分类排架用。

### DS_3.2 图书流通库 (Circulation)

此数据存储由两部分构成（头表+明细表）。

**DS_3.2.1 图书流通库_头 (Circulation Head)**

- **定义**：描述图书的标准元数据。

- 结构：

  图书头信息 = ISBN + 索书号 + 书名 + 作者 + 中图分类号

- **数据元素说明**：

  - `ISBN`：主键。

**DS_3.2.2 图书流通库_明细 (Circulation Detail)**

- **定义**：描述每一本具体实物书的状态。

- 结构：

  图书明细 = 条码号 + ISBN + 馆藏地 + 状态 + 入库日期

- **数据元素说明**：

  - `条码号`：主键，贴在书后的唯一标识。
  - `状态` (STATUS) = `["1" | "2" | "3" | "4" | "5"]`
    - 1 = 在馆, 2 = 借出, 3 = 预约, 4 = 报损, 5 = 遗失

### DS_3.3 期刊库 (Journal)

此数据存储由两部分构成（头表+明细表）。

**DS_3.3.1 期刊库_头 (Journal Head)**

- **定义**：描述期刊的种目信息。

- 结构：

  期刊头信息 = ISSN + 索书号 + 期刊名 + 年卷期

**DS_3.3.2 期刊库_明细 (Journal Detail)**

- **定义**：描述每一本具体实物期刊的状态。

- 结构：

  期刊明细 = 条码号 + ISSN + 馆藏地 + 状态 + 入库日期

- **数据元素说明**：

  - `状态`：定义同图书状态。

### DS_3.4 报损_注销记录 (Loss Record)

- **定义**：记录图书资产的减少情况。

- 结构：

  报损注销记录 = 记录号 + 图书条码 + 类型 + 经手人 + 日期 + (备注)

- **数据元素说明**：

  - `类型` (TYPE) = `["0" | "1" | "2"]`
    - 0 = 报损
    - 1 = 丢失
    - 2 = 剔旧

------

## 4. 用户与权限数据结构

### DS_4.1 读者信息 (Reader)

- **定义**：系统的服务对象（学生/教职工）信息。

- 结构：

  读者信息 = 学号/工号 + 姓名 + 性别 + (学院/部门) + 读者等级ID + 当前积分 + 账号状态 + 有效期至 + 登录密码

- **数据元素说明**：

  - `性别` = `["M" | "F"]`
  - `账号状态` = `["1" | "0" | "2"]`
    - 1 = 正常, 0 = 封禁, 2 = 注销
  - `当前积分`：记录实时积分。

### DS_4.2 信用等级_权限 (Credit Level)

- **定义**：定义不同用户身份的借阅权限及信用规则。

- 结构：

  信用等级 = 等级编号 + 等级名称 + 最大借书量 + 最大借阅天数 + 最长预约保留 + 能否借阅 + 初始信用分 + 降级阈值

- **数据元素说明**：

  - `等级编号`：0=访客, 1=本科, 2=研, 3=教师。
  - `能否借阅` = `["0" | "1"]`。

### DS_4.3 管理员信息 (Admin)

- **定义**：系统后台操作人员信息。

- 结构：

  管理员信息 = 管理员编号 + 姓名 + 密码 + 角色

- **数据元素说明**：

  - `角色` = `["0" | "1" | "2"]`
    - 0 = 采编管理员, 1 = 流通管理员, 2 = 系统管理员

------

## 5. 流通业务数据结构

### DS_5.1 借阅记录 (Borrow Record)

- **定义**：记录图书借出与归还的全过程流水。

- 结构：

  借阅记录 = 流水号 + 读者ID + 图书条码 + 借阅时间 + 应还时间 + (实际归还时间) + 状态

- **数据元素说明**：

  - `实际归还时间`：为空表示未还。
  - `状态` = `["1" | "2" | "3"]`
    - 1 = 借出, 2 = 已还, 3 = 超期

### DS_5.2 预约信息 (Reserve Info)

- **定义**：记录读者对在借图书的预约请求。

- 结构：

  预约信息 = 预约编号 + 读者ID + 图书条码 + 预约发起时间 + 预约失效时间 + 状态

- **数据元素说明**：

  - `状态` = `["1" | "2" | "3" | "4"]`
    - 1 = 排队中, 2 = 待取书, 3 = 已取, 4 = 失效

### DS_5.3 处罚记录 (Punish Record)

- **定义**：记录违规行为及罚款缴纳情况。

- 结构：

  处罚记录 = 处罚单号 + 读者ID + (关联借阅) + 处罚原因 + 罚款金额 + 产生时间 + 是否缴费

- **数据元素说明**：

  - `关联借阅`：外键，可为空。
  - `处罚原因`：超期/丢失/损坏。
  - `是否缴费` = `["0" | "1"]` (默认为0)。

### DS_5.4 默认处罚配置 (Punish Config)

- **定义**：系统级的罚款规则参数。

- 结构：

  处罚配置 = 配置键 + 罚款金额/数值 + (描述)

### DS_5.5 延期申请 (Extension App)

- **定义**：读者提交的图书续借申请及审批结果。

- 结构：

  延期申请 = 申请编号 + 读者ID + 借阅记录ID + (申请理由) + 申请时间 + 审批状态 + (审核管理员)

- **数据元素说明**：

  - `审批状态` = `["0" | "1" | "2"]`
    - 0 = 待审, 1 = 通过, 2 = 拒绝

------

## 6. 其他辅助类数据结构

### DS_6.1 公告 (Notice)

- **定义**：图书馆发布的通知信息。

- 结构：

  公告 = 公告编号 + 标题 + 内容 + 发布时间 + 发布人

### DS_6.2 留言板 (Message Board)

- **定义**：读者与管理员互动的留言记录。

- 结构：

  留言 = 留言ID + 留言者 + 留言内容 + 留言时间 + (管理员回复) + (回复人)

### DS_6.3 备份配置 (Backup Config)

- **定义**：数据库自动备份的策略配置。

- 结构：

  备份配置 = 表名 + 备份周期(天) + 存储路径

### DS_6.4 统计预设 (Stat Preset)

- **定义**：用于动态报表引擎的查询逻辑定义。

- 结构：

  统计预设 = 统计编码 + 统计逻辑/SQL + 图表类型 + 是否启用

- **数据元素说明**：

  - `图表类型` = `["Bar" | "Pie" | "Line"]`。
  - `是否启用`：Default 1。